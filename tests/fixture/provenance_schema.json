{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "climate_indices_provenance_v1",
  "title": "Reference Dataset Provenance",
  "description": "Metadata for external reference datasets used in climate_indices validation tests.",
  "type": "object",
  "required": [
    "source",
    "url",
    "download_date",
    "subset_description",
    "checksum_sha256",
    "fixture_version",
    "validation_tolerance"
  ],
  "properties": {
    "source": {
      "type": "string",
      "description": "Name of the institution providing the reference data."
    },
    "url": {
      "type": "string",
      "description": "Download URL or landing page for the dataset."
    },
    "download_date": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "ISO 8601 date when the data was retrieved."
    },
    "subset_description": {
      "type": "string",
      "description": "Human-readable description of the subset stored in this directory."
    },
    "checksum_sha256": {
      "type": "string",
      "pattern": "^[a-f0-9]{64}$",
      "description": "SHA-256 hash of the canonical data file(s)."
    },
    "fixture_version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Semantic version of the fixture layout."
    },
    "validation_tolerance": {
      "type": "object",
      "description": "Tolerance values for numerical validation.",
      "additionalProperties": {
        "type": "number"
      }
    },
    "citation": {
      "type": "string",
      "description": "Bibliographic reference for the methodology or dataset."
    },
    "doi": {
      "type": "string",
      "description": "DOI of the dataset or methodology paper."
    },
    "license": {
      "type": "string",
      "description": "License or terms of use for the reference data."
    },
    "notes": {
      "type": "string",
      "description": "Free-text notes about the subset or known limitations."
    }
  },
  "additionalProperties": false
}
